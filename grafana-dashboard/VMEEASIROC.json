{"meta":{"type":"db","canSave":false,"canEdit":false,"canAdmin":false,"canStar":true,"canDelete":false,"slug":"vme-easiroc","url":"/d/deicjlj35k3k0e/vme-easiroc","expires":"0001-01-01T00:00:00Z","created":"2025-04-09T11:01:26+09:00","updated":"2025-04-09T14:33:45+09:00","updatedBy":"admin","createdBy":"admin","version":3,"hasAcl":false,"isFolder":false,"folderId":0,"folderUid":"","folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":false,"canEdit":false,"canDelete":false},"organization":{"canAdd":false,"canEdit":false,"canDelete":false}}},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":14,"links":[],"panels":[{"datasource":{"type":"influxdb","uid":"ee2sy3vroccu8e"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto","wrapText":false},"filterable":true,"inspect":false},"fieldMinMax":false,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":15,"w":24,"x":0,"y":0},"id":1,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":false,"fields":"","reducer":["sum"],"show":false},"showHeader":true},"pluginVersion":"11.4.0","targets":[{"datasource":{"type":"influxdb","uid":"ee2sy3vroccu8e"},"query":"import \"array\"\nimport \"strings\"\n\n///// InputDAC\n\ninput_dac_data = from(bucket: \"vme-easiroc\")\n  |\u003e range(start: -1h)\n  |\u003e filter(fn: (r) =\u003e r._measurement == \"input_dac\")\n  |\u003e map(fn: (r) =\u003e ({\n    module: int(v: r.module),\n    ch: int(v: strings.replaceAll(v: r._field, t: \"ch\", u: \"\")),\n    input_dac: r._value,\n    _time: r._time\n  }))\n  |\u003e group(columns: [\"module\", \"ch\"])\n  |\u003e last(column: \"input_dac\")\n  |\u003e keep(columns: [\"module\", \"ch\", \"input_dac\", \"_time\"])\n\n///// PedeSup HG\npede_sup_hg_data = from(bucket: \"vme-easiroc\")\n  |\u003e range(start: -1h)\n  |\u003e filter(fn: (r) =\u003e r._measurement == \"pede_sup\")\n  |\u003e filter(fn: (r) =\u003e r._field =~ /^hg_ch[0-9]{2}$/)\n  |\u003e map(fn: (r) =\u003e ({\n    module: int(v: r.module),\n    ch: int(v: strings.replaceAll(v: r._field, t: \"hg_ch\", u: \"\")),\n    pede_sup_hg: r._value,\n    _time: r._time\n  }))\n  |\u003e group(columns: [\"module\", \"ch\"])\n  |\u003e last(column: \"pede_sup_hg\")\n  |\u003e keep(columns: [\"module\", \"ch\", \"pede_sup_hg\", \"_time\"])\n\n///// PedeSup LG\npede_sup_lg_data = from(bucket: \"vme-easiroc\")\n  |\u003e range(start: -1h)\n  |\u003e filter(fn: (r) =\u003e r._measurement == \"pede_sup\")\n  |\u003e filter(fn: (r) =\u003e r._field =~ /^lg_ch[0-9]{2}$/)\n  |\u003e map(fn: (r) =\u003e ({\n    module: int(v: r.module),\n    ch: int(v: strings.replaceAll(v: r._field, t: \"lg_ch\", u: \"\")),\n    pede_sup_lg: r._value,\n    _time: r._time\n  }))\n  |\u003e group(columns: [\"module\", \"ch\"])\n  |\u003e last(column: \"pede_sup_lg\")\n  |\u003e keep(columns: [\"module\", \"ch\", \"pede_sup_lg\", \"_time\"])\n\njoined1 = join(\n  tables: {dac: input_dac_data, pede_hg: pede_sup_hg_data},\n  on: [\"module\", \"ch\", \"_time\"]\n)\n\njoin(\n  tables: {joined: joined1, pede_lg: pede_sup_lg_data},\n  on: [\"module\", \"ch\", \"_time\"]\n)\n\n|\u003e group()\n|\u003e sort(columns: [\"module\", \"ch\"])\n","refId":"A"}],"title":"","type":"table"}],"preload":false,"refresh":"15m","schemaVersion":40,"tags":[],"templating":{"list":[]},"time":{"from":"now-1h","to":"now"},"timepicker":{},"timezone":"browser","title":"VME EASIROC","uid":"deicjlj35k3k0e","version":3,"weekStart":""}}
